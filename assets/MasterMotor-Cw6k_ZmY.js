import{d as F,a as H,A as O,r as R,o as U,c as z,b as r,e as l,w as q,v as J,u as g,t as a,F as Q,f as X,g as Y,n as Z,h as e,i as u,M as _}from"./index-C6TAoX3k.js";const ll=O,tl=F("motor",{state:()=>({allMotor:[],loading:!1}),actions:{async fetchMotor(){this.loading=!0;try{const i=await H.get(`${ll}&action=read`);this.allMotor=i.data,console.log(i.data)}catch(i){console.error("Gagal ambil data motor:",i)}finally{this.loading=!1}}}}),al={class:"container my-4"},ol={class:"d-flex flex-column flex-md-row justify-content-between align-items-center mb-3 gap-2"},nl=["disabled"],el={class:"table-responsive"},sl={class:"table table-hover table-bordered table-sm"},rl=["onClick"],ul={key:0},dl={key:1},il={class:"modal fade",id:"motorModal",tabindex:"-1","aria-hidden":"true"},ml={class:"modal-dialog modal-lg modal-dialog-centered"},gl={class:"modal-content"},pl={class:"modal-body row g-3"},vl={key:0,class:"col-md-4 text-center"},bl=["src"],fl={key:0},Ml={key:1},yl={__name:"MasterMotor",setup(i){const d=tl(),o=R(null),m=R("");U(()=>{d.fetchMotor()});const A=z(()=>m.value?d.allMotor.filter(n=>`${n.id} ${n.Plat} ${n["Plat Lama"]} ${n.Nama} ${n.Merk} ${n.Warna}`.toLowerCase().includes(m.value.toLowerCase())):d.allMotor),V=n=>{o.value=n,new _(document.getElementById("motorModal")).show()},W=n=>n?new Date(n).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",j=n=>n?n.includes("drive.google.com/file/d/")?`https://drive.google.com/uc?export=view&id=${n.split("/d/")[1].split("/")[0]}`:n:"";return(n,t)=>{var p,v,b,f,M,k,P,y,L,N,c,w,x,S,T,D,I,$,B,C,K,h,G;return u(),r("div",al,[t[22]||(t[22]=l("h2",{class:"mb-4 text-center"},"🛵 Daftar Master Motor",-1)),l("div",ol,[q(l("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>m.value=s),type:"text",class:"form-control",placeholder:"🔍 Cari plat, nama, merk..."},null,512),[[J,m.value]]),l("button",{class:"btn btn-outline-primary",onClick:t[1]||(t[1]=(...s)=>g(d).fetchMotor&&g(d).fetchMotor(...s)),disabled:g(d).loading},a(g(d).loading?"⏳ Memuat...":"🔄 Refresh"),9,nl)]),l("div",el,[l("table",sl,[t[2]||(t[2]=l("thead",{class:"table-dark text-nowrap"},[l("tr",null,[l("th",null,"No"),l("th",null,"Plat"),l("th",null,"Nama"),l("th",null,"Status"),l("th",null,"Lokasi"),l("th",null,"Oleh"),l("th",null,"Keterangan")])],-1)),l("tbody",null,[(u(!0),r(Q,null,X(A.value,(s,E)=>(u(),r("tr",{key:s.id,style:{cursor:"pointer"},onClick:kl=>V(s)},[l("td",null,a(E+1),1),l("td",null,[s["Plat Lama"]&&s["Plat Lama"]!=="-"?(u(),r("span",ul,a(s["Plat Lama"])+" / "+a(s.Plat),1)):(u(),r("span",dl,a(s.Plat),1))]),l("td",null,a(s.Nama),1),l("td",null,a(s.Status||"-"),1),l("td",null,a(s.Lokasi||"-"),1),l("td",null,a(s.oleh||"-"),1),l("td",null,a(s.keterangan||"-"),1)],8,rl))),128))])])]),l("div",il,[l("div",ml,[l("div",gl,[t[21]||(t[21]=l("div",{class:"modal-header bg-primary text-white justify-content-between"},[l("div",null,[l("button",{type:"button",class:"btn-close btn-close-white me-2","data-bs-dismiss":"modal","aria-label":"Tutup"})]),l("h5",{class:"modal-title mx-auto"},"📋 Detail Motor")],-1)),l("div",pl,[(p=o.value)!=null&&p.Gambar?(u(),r("div",vl,[l("img",{src:j(o.value.Gambar),alt:"Gambar Motor",class:"img-fluid rounded border"},null,8,bl)])):Y("",!0),l("div",{class:Z((v=o.value)!=null&&v.Gambar?"col-md-8":"col-12")},[l("p",null,[t[3]||(t[3]=l("strong",null,"ID:",-1)),e(" "+a((b=o.value)==null?void 0:b.id),1)]),l("p",null,[t[4]||(t[4]=l("strong",null,"Plat:",-1)),(f=o.value)!=null&&f["Plat Lama"]&&((M=o.value)==null?void 0:M["Plat Lama"])!=="-"?(u(),r("span",fl,a(o.value["Plat Lama"])+" / "+a(o.value.Plat),1)):(u(),r("span",Ml,a((k=o.value)==null?void 0:k.Plat),1))]),l("p",null,[t[5]||(t[5]=l("strong",null,"Nama:",-1)),e(" "+a((P=o.value)==null?void 0:P.Nama),1)]),l("p",null,[t[6]||(t[6]=l("strong",null,"Merk:",-1)),e(" "+a((y=o.value)==null?void 0:y.Merk),1)]),l("p",null,[t[7]||(t[7]=l("strong",null,"Tipe:",-1)),e(" "+a((L=o.value)==null?void 0:L.Tipe),1)]),l("p",null,[t[8]||(t[8]=l("strong",null,"Warna:",-1)),e(" "+a((N=o.value)==null?void 0:N.Warna),1)]),l("p",null,[t[9]||(t[9]=l("strong",null,"Tanggal Pembelian:",-1)),e(" "+a(W((c=o.value)==null?void 0:c["Tanggal Pembelian"])),1)]),l("p",null,[t[10]||(t[10]=l("strong",null,"Manufaktur:",-1)),e(" "+a((w=o.value)==null?void 0:w.Manufaktur),1)]),l("p",null,[t[11]||(t[11]=l("strong",null,"Harga:",-1)),e(" Rp"+a(((S=(x=o.value)==null?void 0:x.Harga)==null?void 0:S.toLocaleString("id-ID"))||"-"),1)]),l("p",null,[t[12]||(t[12]=l("strong",null,"Nomor Rangka:",-1)),e(" "+a((T=o.value)==null?void 0:T["Nomor Rangka"]),1)]),l("p",null,[t[13]||(t[13]=l("strong",null,"Nomor Mesin:",-1)),e(" "+a((D=o.value)==null?void 0:D["Nomor Mesin"]),1)]),l("p",null,[t[14]||(t[14]=l("strong",null,"STNK Aktif:",-1)),e(" "+a((I=o.value)==null?void 0:I["STNK aktif"]),1)]),l("p",null,[t[15]||(t[15]=l("strong",null,"Penerimaan STNK:",-1)),e(" "+a(($=o.value)==null?void 0:$["Penerimaan STNK"]),1)]),l("p",null,[t[16]||(t[16]=l("strong",null,"Penerimaan PBKB:",-1)),e(" "+a((B=o.value)==null?void 0:B["Penerimaan PBKB"]),1)]),l("p",null,[t[17]||(t[17]=l("strong",null,"Status:",-1)),e(" "+a(((C=o.value)==null?void 0:C.Status)||"-"),1)]),l("p",null,[t[18]||(t[18]=l("strong",null,"Lokasi:",-1)),e(" "+a(((K=o.value)==null?void 0:K.Lokasi)||"-"),1)]),l("p",null,[t[19]||(t[19]=l("strong",null,"Oleh:",-1)),e(" "+a(((h=o.value)==null?void 0:h.oleh)||"-"),1)]),l("p",null,[t[20]||(t[20]=l("strong",null,"Keterangan:",-1)),e(" "+a(((G=o.value)==null?void 0:G.keterangan)||"-"),1)])],2)])])])])])}}};export{yl as default};
